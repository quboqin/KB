---
title: "万字长文，详解线上线下收单业务"
description: "系统讲解第三方支付、线下POS收单与线上收单的完整业务逻辑，包括支付网关模式、账户支付模式、各类银行接口以及发卡行、收单行、银联等各角色的关系与手续费分成机制。"
pubDate: 2017-01-04
tags: ["收单业务", "第三方支付", "支付网关", "POS收单", "银联", "快捷支付", "清结算"]
category: '金融'
---

> Where there is trade, there is payment.

收单业务是日常生活中碰到频率最多的一件事，尤其是第三方支付，如今已经发展得非常成熟。本文根据作者理解以及收集的资料，总结什么是收单，包括第三方支付，内容涵盖第一方（第三方支付）和第二方（系统交互）两个部分。

---

## 第一部分：第三方支付

### 2.1 概述

第三方支付是具备一定实力和信誉保障的独立机构，采用与各大银行签约的方式，提供与银行支付结算系统接口的交易支持平台的网络支付方式。

**第三方支付平台**是指平台提供商通过通信、计算机和信息安全技术，在商家和银行之间建立连接，从而实现消费者、金融机构以及商家之间货币支付、现金流转、资金清算、查询统计的一个平台。

- 第三方支付是一种**支付方式**，或者说是一种支付渠道。
- 第三方支付平台是第三方支付这种支付方式得以实现所必需的媒介，是看得见的第三方支付形式。

### 2.2 支付环节

一个完整的支付过程包括**代收、清结算和代付**三个环节：

- **代收**：第三方支付平台把资金从买方的银行卡转移到第三方支付平台银行账户（或卖方银行账户）的过程。
- **清结算**：支付完成后第三方支付公司与银行、卖方之间处理债权债务关系（如果涉及跨行支付，还涉及银行与银行之间的清结算）。
- **代付**：第三方支付公司在完成清结算之后，结清交易当事人之间的债权债务关系，并最终完成资金转移的过程。

### 2.3 分类

根据第三方支付平台在交易过程中所扮演角色以及参与程度的不同，可以将第三方支付方式分为两种：**支付网关模式**和**账户支付模式**。

#### 2.3.1 支付网关模式

**支付网关定义**

在一个完整的交易过程中，银行内部网需要与 Internet 网进行交互。为了保证银行系统和支付活动的安全性，需要在银行内部网（金融专用网）与 Internet 网之间建立一道安全屏障，通常称为支付网关。

**支付网关的作用**

- 解密从 Internet 传过来的通信协议，并按银行专网的协议标准重新打包数据，再传给银行专网，这样银行主机就不用作任何修改。
- 将从银行专网传过来的通信协议，按 Internet 的协议标准重新打包数据，加密之后，再在 Internet 网中传输。

**支付网关模式特点**

支付平台只作为支付通道将买方发出的支付指令传递给银行，银行完成转账后再将信息传递给支付平台，支付平台将此信息通知卖方并与卖方进行结算。在支付网关模式下，第三方支付平台扮演着"通道"的角色，并没有实际涉及银行的支付和清算，只是传递了支付指令。典型案例：首信易支付。

**流程示例**（以首信易支付为例）：

1. 卖方平台确认订单
2. 首信易支付平台选择付款银行（选中行）
3. 跳转至中行界面选择支付方式
4. 按银行要求完成付款

网关支付最大的特色就是第三方支付机构只作为银行的网关，相当于银行的看门人，控制谁可以进出银行，至于完成最终的付款操作，用户需要在银行的网站界面上按银行的要求完成付款。**注意不同的银行可能要求不一样。**

支付网关模式的核心价值在于集成了各大银行的网关，卖方只需要和一家第三方支付平台的接口相连，用户便可使用绝大部分银行进行付款，大大节省了商户逐一接入各银行网关的成本。

#### 2.3.2 账户支付模式

**支付流程**

账户支付指买卖双方必须先到第三方支付平台注册成为会员，用户通过网银或其它方式先往虚拟账户中充值（资金流：钱从用户的银行卡划转到第三方支付公司银行账户），用户消费付款时，从虚拟账户直接扣除（这里并不涉及实际的资金划转，只是数据层面上数字的减少）。典型案例：Paypal。

**说明**

账户支付的优势在于有较强的用户黏性，可以追踪收集用户的消费习惯。但是账户支付需要先充值，用户体验不好，同时涉及到资金池，有较大的政策风险。

### 2.4 银行接口

任何一家支付机构后台都要接入一堆银行，来完成代收的操作。目前银行开放给第三方机构（包括第三方支付平台）的接口大概有四类：

1. **POS 收单接口**
2. **网银接口**
3. **快捷支付接口**
4. **代扣接口**

这四类接口的作用就是把资金从用户的银行卡划转出来。

#### 2.4.1 第三方支付平台 + 网银接口

第三方支付平台接了银行网银接口后，从银行的角度讲，其只是对外开放了一个网银接口。对于第三方支付平台来说，这种支付模式其实就是上面讨论的支付网关模式。

**注意**：网银与网关是两个不同的概念，二者是针对不同的主体来说的，所起的作用也不一样。因为第三方支付平台连接网银接口、进行支付跳转时，第三方支付平台充当了一个网关的角色，所以经常有人弄混。从普通用户的感知来讲，这就是平时经常所说的第三方支付平台的网银支付。

#### 2.4.2 第三方支付平台 + 快捷支付接口

从银行角度讲，这是其对外开放的快捷支付接口；对于普通用户来说，也是我们经常所说的快捷支付。进行快捷支付时，第三方支付平台往往会要求用户先在第三方支付平台注册成为会员，然后进行**四要素绑卡**（姓名、身份证、卡号、银行预留手机），最后才能完成付款。

**两种合作模式：**

**1）用户显式注册第三方支付平台账户并绑卡**

用户在第三方支付平台界面上完成注册和绑卡操作，整个过程对用户可见。

**2）平台替用户隐式注册第三方支付平台账户并绑卡**

有些商户平台（如 P2P）与第三方支付平台深度合作，用户只需要在商户平台界面上完成绑卡即可，整个绑卡流程不会出现第三方支付平台的界面。这是由于用户在商户平台填写的信息都在后台传给了第三方支付平台，然后第三方支付平台为用户隐式注册了平台账户。原理还是与用户在第三方支付平台显式注册一样，只是为了让用户的绑卡流程不会被打断，让用户体验好一点而已。

**说明**：从用户体验角度讲，使用快捷支付比使用网银支付的体验好；一方面快捷支付不需要开通网银，而且一次绑卡之后，第二次就可以直接支付了，方便快捷。

#### 2.4.3 代扣接口

**定义**

银行代扣接口是银行开放给第三方机构的接口，用户只要一次性签约，第三方机构就可以将资金从用户的签约银行账户里划走。对于接银行代扣接口的第三方机构的资质要求非常高，必须具备非常高的信用。一般这种接口会开放给水电公司，用于用户缴纳每个月的水费、电费、家庭网费等。

**与快捷支付接口的区别与联系**

代扣接口是一直都存在的传统银行支付接口，为了便民生活。而快捷支付接口是互联网出来并发展到一定阶段后，银行专门开放给第三方支付公司的接口。二者对于银行来说并无本质区别，因为都是在用户完成签约之后，就可以通过第三方机构把资金从用户的签约银行账户中划走。但银行为方便管理，给第三方支付公司专门开了一套与代扣接口功能一样的快捷支付接口。

两种接口都需要三方签约，即用户、第三方机构以及银行三方签约。

| 接口类型 | 用户操作 | 典型场景 |
|---|---|---|
| 代扣接口 | 一次性签约，到点自动划扣，无需再输入密码 | 水电费、有线电视费 |
| 快捷支付接口 | 一次绑卡后，后续仅需输入第三方支付平台支付密码 | 日常消费支付 |

#### 2.4.4 POS 接口

POS 接口是银行开放给第三方支付机构用于线下收单业务的，主要用于 POS 机刷卡支付。详见第三章线下收单部分。

---

## 第二部分：系统交互与收单业务流程

### 3.1 概述

**银行卡收单业务**，指收单机构为特约商户提供银行卡交易处理及资金结算等金融服务，获取手续费收入的业务。

### 3.2 行为主体

| 角色 | 说明 |
|---|---|
| **持卡人** | 消费者，使用银行卡完成支付 |
| **发卡行** | 向持卡人发行各种银行卡，提供银行卡服务，是银行卡市场的发起者和组织者，是银行卡市场的卖方 |
| **收单机构** | 负责特约商户的开拓与管理、授权请求、账单结算等活动，利益来源于特约商户交易手续费的分成、服务费 |
| **收单行** | 负责分发请款指令，同时存管用户备付金的银行。即用户付款后，有一个银行账户来存放用户支付的资金 |
| **银行卡组织** | 建立、维护和扩大跨行信息交换网络，向成员机构提供信息交换、清算和结算、统一授权、品牌营销、风险控制及反欺诈等服务，如银联电子等 |
| **特约商户** | 与收单机构签有商户协议，受理银行卡的零售商、个人、公司或其他组织 |

### 3.3 业务流程概览

基于银行卡收单业务，根据持卡人支付载体不同分为：

- **线下收单**：为商户提供的具备银行卡信息读入装置生成银行卡交易指令要素的各类支付终端，包括 POS 终端、自助终端等，持卡人通过刷卡完成交易。
- **线上收单**：第三方支付机构（包括银联）已建成的无卡支付交易处理平台。持卡人通过互联网、移动互联网等介质，输入银行卡相关信息从而完成交易。也就是常说的线上第三方支付。

### 3.4 线下收单

POS 收单业务是指收单机构向签约商户提供的本外币资金结算服务。POS 刷卡用得最多，以下以 POS 线下收单为例进行说明。

POS 收单业务主要有三种收单机构：

1. **商业银行**
2. **银联商务**
3. **第三方支付公司**（如拉卡拉、快钱等）

#### 3.4.1 商业银行作为收单机构

商业银行的主要业务范围包括吸收存款、发放贷款、票据贴现及收单业务等。在线下收单业务中，商业银行既是发卡行，又是收单行，同时还是收单机构。首先，商户在银行（收单行）开立账户，银行为商户安装 POS 机，持卡人在商户进行购物消费时通过刷卡方式支付款项，收单行负责将扣减一定手续费后的消费资金记入商户账户。

**跨行消费流程**：

当持卡人持银行卡（发卡行 A）在 POS 机上跨行消费时，扣款指令先从 POS 终端机传到收单行 B 的主机系统，再转到银联进行跨行转接，再通过银联电子进行行间转接给发卡行 B，最后发卡行负责划扣资金。

如果发卡行与收单行是同一家银行，则不需要银联电子转接，只需进行行内数据处理及清结算即可。

**手续费分成案例（以信用卡刷卡为例）**：

假设海底捞与工行合作，在店内布放了一台工行的 POS 机（工行是收单行，也是收单机构），用户消费时，用农行的信用卡（农行为发卡行）刷卡消费：

- 第一阶段：用户在刷卡小票上签字后交给海底捞，完成交易。
- 第二阶段：在银联的清算时间，工行通过银联向农行要该笔资金，并向发卡行农行支付交换费，银联在这个过程中收取手续费分成。
- 第三阶段：海底捞把小票交给收单行工行，工行与海底捞进行结算，扣完手续费后，把资金结算给海底捞。

**手续费分成比例（一般）**：

| 角色 | 分成比例 |
|---|---|
| 发卡行（农行） | 70% |
| 收单行（工行） | 20% |
| 银联电子 | 10% |

如果发卡行与收单行是同一家银行，则九成归该银行，另一成支付给银联电子。

#### 3.4.2 银联商务作为收单机构

中国银联于 2002 年成立于上海，旗下有：

- **银联商务**：主营线下 POS 收单业务
- **银联电子**：主营互联网支付业务以及解决银行卡联网通用的问题，即集成各大银行的网关接口，实现银行之间的互联互通，解决跨行交易和清结算的问题
- **银联数据服务有限公司**：为金融机构提供银行卡数据处理服务
- **银行卡检测中心**
- **中国金融认证中心（CFCA）**：通过发放数字证书，为网上银行、电子商务、电子政务提供安全认证服务

当银联商务作为收单机构时，由银联商务与商户进行签约，收单主体是银联商务。

银联的存在就是为了解决跨行交易的问题，所以当银联作为收单机构时，指令直接传到银联，再传给发卡行扣款。在银联的清算日，银联会与发卡行、收单行就该笔交易进行清结算。

#### 3.4.3 第三方支付收单机构

在线下银行卡收单市场中，第三方收单机构在全国范围内极速发展。

**运营模式**：

1. 第三方支付机构首先需要获得央行颁发的收单牌照
2. 通过与商户签约，线下布放 POS 机，替商户收单
3. 第三方支付机构一般会找一家或多家银行合作，在合作银行开立**备付金存管账户**，用于与银行进行资金清结算（合作行）
4. 对于合作行自己的持卡人交易，合作银行自己处理；对于他行的交易，由合作银行转接到银联，再由银联转接到其它发卡行处理

**注意**：这里用于接收用户支付款项的银行账户是第三方收单机构在收单行开立的（备付金存管账户），收单行与第三方收单机构是合作关系。而在上面银行和银联作为收单机构中，用于接收用户支付款项的银行账户是商户在收单行开立的。

在这里，第三方支付机构实际上形成了**资金池**，最后在第三方收单机构与商户结算时，第三方收单机构才会把资金打到商户在签约时指定的**结算账户**（商户在任何一家普通银行开立的账户）上。

**（1）发卡行与第三方机构的开户行属于同行**

代付与清结算并不是同时发生的，一般第三方收单机构与商户签约时，会有一个结算账期，在第三方收单机构与合作行清结算完成后，第三方收单机构才会与商户进行结算。第三方收单机构与合作行清结算时，合作行会收取第三方收单机构一定手续费，第三方收单机构与商户结算时，会收取商户一定手续费。

**（2）发卡行与第三方收单机构开户行属于异行**

流程涉及发卡行、第三方收单机构、收单行、银联四方进行手续费分成。

### 3.5 线上收单

了解了线下收单业务中各机构之间的关系后，线上收单业务就很容易理解了。线上收单业务如今主要被第三方支付机构占据。在线下收单业务中，第三方支付机构在线下连接的是银行开放出去的 POS 接口，而在线上，连接的则是网银接口和快捷支付接口。

#### 3.5.1 第三方支付平台线上收单

**线上与线下收单的主要不同点：**

**1. 发卡行的可知性**

- 线下：无法得知用户使用哪家银行的银行卡，第三方收单机构收到请款请求后，会交给合作开户行（收单行）进行处理；收单行一旦发现是异行的卡，马上会把指令传给银联电子，再由银联电子进行行间转接。
- 线上：用户选择的发卡行是第三方支付平台合作支持的，在用户界面上可以知道。

**2. 收单行角色**

- 线下：第三方收单机构需要借助其开户行（收单行）的力量识别是同行还是异行的卡消费。
- 线上：第三方支付平台集成了各大银行的网关，本身既是收单机构，又是收单行。第三方支付平台相当于一个路由器，对用户所选的发卡行进行识别后，把请款请求分发给对应的发卡行，这样就可以取代收单行和银联电子进行行间转接了。

**监管含义**：这就是银联电子最担心的地方。银行也担心，因为当第三方支付平台取代银行自己成为收单行之后，银行已经无法深入知道整个支付细节了。线上时，已经没有收单行这个概念，或者说第三方支付机构本身就是收单行了，银行已经无法得知这笔交易的来龙去脉，仅仅只能作为第三方支付机构的开户行存放用户的支付款项，或者作为发卡行，主动（网银支付）或被动（快捷支付）执行扣款指令。当银行无法得知支付的中间细节时，洗钱就会趁虚而入了。这也就是为什么央行一直要出台相关在线第三方支付政策来反洗钱的原因。

**（1）第三方支付平台 + 网银接口**

第三方支付平台连接网银接口时，用户在支付时，实际上第三方支付平台仅仅充当了支付网关的作用，可以理解成是银行的代理。使用网银支付，用户得先确保已经开通了网银。

**（2）第三方支付平台 + 快捷支付接口**

用户使用快捷支付之前，得先在第三方支付平台完成绑卡操作，不需要开通网银。

快捷支付接口开放给第三方支付平台之后，用户只需要在第三方支付平台完成身份校验，第三方支付机构就可以将用户银行卡里的资金划扣出来，而无需再输入银行卡密码。

**快捷支付与网银支付的本质区别**：

- 用户使用快捷支付时，本来应该由银行完成的校验用户身份以及发起扣款指令的工作，现在由第三方支付平台代替银行来完成。用户在第三方平台身份校验成功后，扣款指令会传递给发卡行，然后银行只是被动地执行这个扣款指令。
- 连接了快捷支付接口，相当于第三方支付平台可以随时划扣用户的资金。如果支付平台想做违法乱纪之事，是可以轻而易举在用户不知情的情况下把用户资金从银行卡中划走的。
- 因此，一般银行只对资质非常高、信誉非常好的第三方支付平台开放这类接口。而且第三方支付平台接快捷支付接口的成本也非常高，据不完全统计，用户每完成一次认证绑卡，支付平台的运营成本在 100 元左右。

从用户体验上来说，快捷支付比网银支付环节更少，方便快捷，体验上占优。从第三方支付平台来说，用户支付时，第三方支付平台已经深入了整个支付环节，包括交易数据获取、用户信息积累、代付时收取手续费等等。

#### 3.5.2 银联电子线上收单业务

银联电子是中国银联旗下子公司，专门用于在线收单业务拓展的线上支付平台，与第三方支付机构无本质区别，主要的区别在于代付环节：**银联电子不设资金池**，所以不存在代付这个环节。在银联的清算时间完成之后，用户支付的款项就直接打给商户的结算账户里面去了。
