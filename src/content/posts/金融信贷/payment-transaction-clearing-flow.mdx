---
title: "支付公司全链路：一张图看懂九大系统"
description: "从消费者支付到商户到账，一笔交易究竟要经过哪些系统？本文以全链路视角，逐一拆解支付公司的九大核心系统：支付网关、业务系统、交易系统、渠道系统、账务系统、会计系统、对账系统、资金运营、商户结算，以及五大辅助系统的职责与联动。"
pubDate: 2025-04-20
tags: ["支付系统", "全链路", "支付架构", "清算结算", "对账系统", "金融科技"]
category: '金融'
---

很多支付行业从业者（产品经理、开发、运营）日常只接触支付系统的某一个板块，对完整链路的认知相对模糊。

本文以全链路视角，讲述**一笔交易自消费者支付到结算给商户**的整体流程，逐一介绍各系统的职责，帮助大家对「支付公司做了什么」形成系统认知。

> **说明：** 本文的支付链路，指**支付公司**的内部链路，不完全适用于电商平台、基金销售平台等有支付场景的非支付公司。对这些平台而言，支付只是其系统链路的一小部分，仅供参考借鉴。

---

## 全链路概览

一笔完整的支付交易，在支付公司内部要流经以下系统：

```
消费者
  │
  ▼
支付网关      ← 入口，参数校验、加解密
  │
  ▼
业务系统      ← 业务逻辑处理，生成"业务单"→"交易单"
  │
  ▼
交易系统      ← 核心枢纽，控制交易全周期
  ├──→ 渠道系统    ← 对接银联/网联，实际扣款
  ├──→ 账务系统    ← 记录账户余额变动
  └──→ 商户结算    ← 计算并发起商户到账
  │
  ▼
会计系统      ← 记录会计分录
  │
  ▼
对账系统      ← 账务流水 vs 渠道流水核对
  │
  ▼
资金运营      ← 应收应付 vs 实收实付核对
```

---

## 九大核心系统详解

### 1. 支付网关

支付网关是与外部系统（商户）直接对接的入口，本身承担的业务逻辑很少，甚至没有。

**主要职责：**
- 商户请求参数的合法性校验
- 密钥的验证
- 数据加解密处理

支付网关的核心价值在于**隔离外部与内部**——让内部系统不直接暴露给外部商户，统一做安全防护。

### 2. 业务系统

业务系统承担了绝大多数的**业务逻辑**，是商户支付请求处理的起点。

**主要职责：**
- 将商户入参进行转化、补充，以便下游系统处理
- 将强业务属性的「**业务单**」剥离为更标准、更原子化的「**交易单**」，送给交易系统处理
- 承接并处理商户对订单信息、状态的大量查询请求

> **业务单 vs 交易单：** 业务单带有商户业务语义（如「商品购买」「退款申请」），交易单是支付公司内部标准化的处理单元，两者是 1 对多的关系。

### 3. 交易系统

交易系统是支付公司的**核心系统**，相当于支付中枢。

**主要职责：**
- 跟进并处理「交易单」的整个生命周期
- 将交易送到渠道系统实际发起扣款
- 将扣款成功的交易通知账务系统记账
- 将交易结果同步给结算系统

从系统交互来看，交易系统与渠道系统、账务系统、商户结算等多个系统都有直接联动，是名副其实的"神经中枢"。

### 4. 渠道系统

渠道系统负责对接银联、网联等外部支付渠道，是支付公司与金融基础设施之间的桥梁。

**主要职责：**
- 对接银联/网联的收款（代收）、付款（代付）接口
- 发起外部对账
- 信息记录：商户报备信息、用户绑卡信息等
- **渠道路由**：智能选择成本更低、性能更好的渠道

渠道路由是渠道系统的核心价值之一——当同一资金需求有多个渠道可选时，系统会基于成本、成功率、限额等维度自动择优。

### 5. 账务系统

账务系统是真正「管钱的人」。

**主要职责：**
- 为每个用户（C 端支付账户）、收单商户、支付公司手续费账户等主体维护账户
- 记录账户状态、余额及每一次变动
- 为后续对账提供数据基础

每一笔成功的交易，最终都会在账务系统中留下明确的借贷记录。

### 6. 会计系统

会计系统记录**会计分录**。

每一笔「交易单」都会对应一笔会计分录（借：XXX；贷：XXX）。当支付场景、支付工具、收款账户、出款账户等要素确定时，会计分录就已经明确了。

> 会计系统与账务系统的分工：账务系统管「谁的账户有多少钱」，会计系统管「从会计角度如何入账记账」，两者各司其职。

### 7. 对账系统

对账系统负责将**账务变动流水**与**渠道交易流水**进行比对。

**核心目标：**
- 发现公司内部是否有漏记账（长款）
- 发现渠道外部是否有漏记账（短款）
- 确定支付公司的应收款，以及渠道扣除手续费前的应付款是否一致
- 计算支付公司应付的渠道手续费，以及实际应付商户的款项

> **注意：** 支付公司的对账非常复杂，除了内部系统与外部渠道的信息流对账，还有内部系统之间的信息流对账，以及内部系统与外部系统的资金流对账，是多维度的综合核对体系。

### 8. 商户结算

商户结算系统决定商户**能否拿到待结算款、能拿多少**。

**处理流程：**

```
1. 业务单 vs 交易单状态比对，确保一致性
         │
         ▼
2. 基于流水计算商户手续费
         │
         ▼
3. 得出"应付款"（可提现金额）和"应收款"（商户手续费）
   ├── 净额结算：直接从可提现金额中扣除手续费，划拨至支付公司手续费账户
   └── 全额结算：分别处理
         │
         ▼
4. 商户账户余额：不可提现 → 可提现
         │
         ▼
5. 自动发起提现（或等待商户自行提现至对公银行账户）
```

### 9. 资金运营

资金运营将支付公司的**应收应付**（账务口径）与**资金渠道的实收实付**（资金口径）进行比较，处理资金流对账及差异。

这是对账的最后一道防线，确保账面数字与实际资金完全匹配。

---

## 五大辅助系统

以下系统在链路图中通常不单独呈现，但对支付链路的顺畅运转同样至关重要：

| 系统 | 核心职责 |
|------|---------|
| **会员系统** | 管理 C 端用户和 B 端商户的实名信息（9 要素、营业执照等）、登录密码、支付密码、账户状态 |
| **计费系统** | 记录商户、渠道的计费规则（按笔、按金额、梯度优惠等），清算时按需调用 |
| **商户配置系统** | 管理商户权限（可用渠道、可用支付工具、D0/D1 结算模式、留存资金规则等）|
| **账单系统** | 基于交易数据，定期为商户生成交易对账文件或结算对账文件，支持大商户定制字段 |
| **运营平台** | 供运营人员处理异常情况，或人工发起退款、代付等流程的后台管理系统 |

---

## 几点补充说明

**本链路图的简化之处：**

- 未涉及用户账户登录、支付工具选择等场景
- 未包含退款、对账不平等异常情况处理
- 描述的是用最简单的支付工具走最顺利流程的情形

这也是支付公司**绝大多数交易的缩影**——正常路径下，这九个系统紧密协作，在用户感知不到的「后台」默默完成了数十个步骤。

**不同支付公司的差异：**

不同支付公司由于需求、体量、架构设计的不同，系统规划和职责划分各有差异：

- 体量大、场景复杂的支付公司，系统设计更复杂，更注重系统间的解耦和原子化能力
- 体量较小的支付公司，可从简设计，优先控制成本

但不管系统如何设计，「**收单、清算、结算、对账**」始终是支付公司不变的核心职责。
